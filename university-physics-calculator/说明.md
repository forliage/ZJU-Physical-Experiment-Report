# 大学物理实验计算器 (University Physics Experiment Calculator)

**一款专为大学物理实验设计的桌面应用程序，旨在将繁琐的数据处理流程自动化、可视化，让您能更专注于实验原理本身。**

本工具使用 C++ 打造高性能计算核心，并借助 Qt 构建美观、跨平台的用户界面。无论您是正在为处理实验数据而烦恼的学生，还是希望提高教学效率的老师，这款计算器都将是您的得力助手。


## ✨ 项目亮点

*   **一站式解决方案**: 集成了数据统计、线性拟合、多项式曲线拟合、不确定度分析等物理实验中最高频的数据处理功能，无需在多个软件间来回切换。
*   **高性能核心**: 后端计算引擎采用纯 C++ 编写，确保了在处理大量数据时的速度和效率。复杂数学运算（如多项式拟合）由强大的 **Eigen** 库驱动。
*   **一键生成报告**: 只需一次点击，即可将所有原始数据、计算过程和最终结果导出为排版精美的 **Markdown (.md)** 或 **Typst (.typ)** 格式的实验报告，极大地节省了撰写报告的时间。
*   **现代化图形界面**: 基于 **Qt6** 框架构建，界面清晰、直观，交互友好。支持跨平台运行在 Windows, macOS 和 Linux 系统上。
*   **模块化与可扩展**: 采用经典的 MVC 设计模式，代码结构清晰，便于二次开发和功能扩展。

## 🚀 快速开始

### 1. 下载程序

您可以从本项目的页面下载最新版本的预编译程序。

*   **[前往下载页面](https://github.com/forliage/ZJU-Physical-Experiment-Report.git)**

根据您的操作系统，下载对应的文件包（例如 `PhysCalc-Windows-x64.zip` 或 `PhysCalc-Linux.tar.gz`）。

### 2. 运行程序

#### Windows 用户

1.  解压下载的 `.zip` 文件。
2.  进入解压后的文件夹，找到并双击 `phys_calc.exe` 即可启动程序。

#### Linux 用户

1.  解压下载的 `.tar.gz` 文件:
    ```bash
    tar -xzvf PhysCalc-Linux.tar.gz
    ```
2.  进入解压后的目录:
    ```bash
    cd PhysCalc-Linux/
    ```
3.  为程序添加可执行权限:
    ```bash
    chmod +x phys_calc
    ```
4.  运行程序:
    ```bash
    ./phys_calc
    ```

#### macOS 用户

1.  解压下载的 `.zip` 文件。
2.  将 `PhysCalc.app` 拖入您的“应用程序”文件夹。
3.  首次打开时，可能会遇到“无法打开身份不明的开发者应用”的提示。请进入“系统偏好设置” -> “安全性与隐私”，点击“仍要打开”即可。

---

## 📖 详细使用指南

软件的核心工作流程围绕着三个主选项卡展开：**数据与统计** -> **拟合与绘图** -> **不确定度与报告**。

### 第1步：输入与统计

这是所有分析的起点。

1.  **切换到“数据与统计”选项卡**。
2.  **输入数据**: 在左侧的表格中，双击单元格输入您的 `X` 和 `Y` 数据。
3.  **管理表格**:
    *   **`增加行`**: 若默认行数不足，点击此按钮添加。
    *   **`清空数据`**: 点击此按钮可重置整个应用程序，清空所有数据和计算结果。
4.  **计算**: 输入数据后，点击 **`计算统计量`** 按钮。
    *   **效果**: 程序会立即分析 `Y` 列数据，并在右侧“计算结果区”显示**平均值**、**标准偏差**、**方差**等关键统计量。
    *   **重要**: 此步骤会自动计算出 **A类不确定度**，并将其填充到第三个选项卡中，为后续计算做好准备。

### 第2步：数据拟合

将离散的数据点转化为有意义的函数关系。

1.  **切换到“拟合与绘图”选项卡**。
2.  **选择拟合类型**:
    *   **线性拟合**: 如果您的数据点近似呈线性关系，点击 **`2. 线性拟合`** 按钮。程序将使用最小二乘法计算最佳拟合直线 `y = ax + b`，并给出相关系数 `R²`。
    *   **曲线拟合**: 如果数据呈曲线关系，先在 **`阶数`** 选择框中设定您期望的多项式阶数（例如，`2` 代表二次曲线），然后点击 **`3. 曲线拟合`** 按钮。
3.  **查看结果**: 所有拟合结果（方程、系数等）都会被**追加**到第一个选项卡的“计算结果区”，方便您集中查看。

### 第3步：不确定度分析与报告生成

完成实验数据的最终量化评估并产出报告。

1.  **切换到“不确定度与报告”选项卡**。
2.  **输入 B 类不确定度**: 在 `B类不确定度 (uB)` 输入框中，手动输入由仪器精度等因素决定的 B 类不确定度。`A类不确定度 (uA)` 应该已在第1步中自动填入。
3.  **计算总不确定度**: 点击 **`计算总不确定度`** 按钮，程序将根据合成公式 `u = sqrt(uA² + uB²)` 给出最终的总不确定度。
4.  **生成报告**: 这是本软件的“杀手级功能”。
    *   点击 **`保存为 Markdown (.md)`** 或 **`保存为 Typst (.typ)`**。
    *   在弹出的对话框中选择保存路径和文件名。
    *   一份包含了**原始数据表格、统计分析、拟合方程、不确定度计算过程**的、结构化、格式精美的报告就瞬间生成了！

---

## 🔧 从源码构建 (开发者)

如果您想自行编译或为本项目贡献代码，请遵循以下步骤：

**依赖环境**:
*   C++17 编译器 (GCC, Clang, MSVC)
*   CMake (版本 >= 3.16)
*   Qt6 开发库 (核心模块: Widgets)
*   Eigen3 数学库

**构建步骤 (以 Linux 为例)**:
1.  **克隆仓库**:
    ```bash
    git clone https://github.com/forliage/ZJU-Physical-Experiment-Report.git
    cd your-repository-name
    ```
2.  **准备 Eigen 库**:
    下载 Eigen 并解压到 `lib/eigen` 目录下，或者使用您系统已安装的 Eigen3。
3.  **创建构建目录**:
    ```bash
    mkdir build && cd build
    ```
4.  **运行 CMake 和 Make**:
    ```bash
    cmake ..
    make
    ```
5.  **运行**:
    可执行文件 `phys_calc` 将会生成在 `build` 目录下。

## 🤝 贡献

欢迎任何形式的贡献！无论是提交 Bug 报告、提出功能建议还是直接贡献代码，我都非常欢迎。请通过提交 **Pull Request** 或创建 **Issue** 来参与项目。

